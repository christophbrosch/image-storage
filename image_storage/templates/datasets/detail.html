{% extends 'base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% load django_tables2 %}

{% block css %} 
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'datasets-detail.css' %}">
{% endblock css %}

{% block content %}
    <br></br>
    <div class="row">
        {% with dataset.id as pk %}
            {% include 'images/htmx/bar.html' with expand=True %}
        {% endwith %}
    </div>
    <div class="row py-2">
        <div id="image-upload-tile" class="card col-md-12 col-lg-6"> 
            <div class="card-body">
                <h5 class="card-header"> Dateien hinzufügen </h5>

                <ul class="nav nav-tabs" id="upload-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="image-upload-tab" data-bs-toggle="tab" data-bs-target="#image-upload" type="button" role="tab" aria-controls="image-upload" aria-selected="true">Bild</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="annotation-upload-tab" data-bs-toggle="tab" data-bs-target="#annotation-upload" type="button" role="tab" aria-controls="annotation-upload" aria-selected="false">Annotation</button>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="image-upload" role="tabpanel" aria-labelledby="image-upload-tab"> 
                        <label for="formFileMultiple" class="form-label card-text py-2"> Wähle mehrere Bilder aus die du hochladen möchtest </label>
                        <form enctype="multipart/form-data" class="form-group" action="" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="form" value="image_upload_form">
                            {% bootstrap_form image_upload_form %}
                            {% bootstrap_button type="reset" content="Zurücksetzen" %}
                            {% bootstrap_button type="submit" content="Hochladen" %}
                        </form>
                    </div>
                    <div class="tab-pane fade" id="annotation-upload" role="tabpanel" aria-labelledby="annotation-upload-tab"> 
                        <label for="formFileMultiple" class="form-label card-text py-2"> Wähle mehrere Annotationsdateien aus die du hochladen möchtest </label>
                        <form enctype="multipart/form-data" class="form-group" action="" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="form" value="annotation_upload_form">
                            {% bootstrap_form annotation_upload_form %}
                            {% bootstrap_button type="reset" content="Zurücksetzen" %}
                            {% bootstrap_button type="submit" content="Hochladen" %}
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="card col-md-12 col-lg-6"> 
            <div class="card-body">
                <h5 class="card-header"> Transaktionen </h5>
                <ul class="nav nav-tabs" id="transaction-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="image-transaction-tab" data-bs-toggle="tab" data-bs-target="#image-transaction" type="button" role="tab" aria-controls="image-transaction" aria-selected="true">Bild</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="annotation-transaction-tab" data-bs-toggle="tab" data-bs-target="#annotation-transaction" type="button" role="tab" aria-controls="annotation-transaction" aria-selected="false">Annotation</button>
                    </li>
                </ul>
                <div class="tab-content">
                    {% with dataset.id as pk %}
                        {% include 'transactions/htmx/image-table.html' %}
                        {% include 'transactions/htmx/annotation-table.html' %}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}