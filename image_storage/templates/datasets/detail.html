{% extends 'dashboard/index.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% load django_tables2 %}

{% block css %} 
    <link rel="stylesheet" href="{% static 'datasets-detail.css' %}">
{% endblock css %}

{% block content %}
    <br></br>
    <div>
        <div class="card">
           <h3 class="card-header"> Bilder </h3>
           <div class="card-body row">    
            {% for image in images  %}
                <div x-data="{ hover: false }" @mouseover="hover = true" @mouseleave="hover = false" class="position-relative col-sm-12 col-md-6 col-lg-4 col-xl-2 p-1">
                    <img  style="max-width: 100%" src="https://s3.eu-central-1.amazonaws.com/image-storage.dev.bucket/{{image.thumbnail_path}}" />
                    <div x-show="hover" class="position-absolute image-popover">
                    </div>   
                </div>
            {% endfor %}
            </div>
        </div>
    </div>
    <div class="row py-2">
        <div id="upload-tile" class="card col-md-12 col-lg-6"> 
            <div class="card-body">
                <h5 class="card-header"> Bilder hinzufügen </h5>
                <label for="formFileMultiple" class="form-label card-text py-2"> Wähle mehrere Bilder aus die du hochladen möchtest </label>
                <form enctype="multipart/form-data" class="form-group" action="" method="post">
                    {% csrf_token %}
                    {% bootstrap_form form %}
                    {% bootstrap_button type="reset" content="Zurücksetzen" %}
                    {% bootstrap_button type="submit" content="Hochladen" %}
                </form>
            </div>
        </div>
        <div id="upload-tile" class="card col-md-12 col-lg-6"> 
            <div class="card-body">
                <h5 class="card-header"> Transaktionen </h5>
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="image-tab" data-bs-toggle="tab" data-bs-target="#image" type="button" role="tab" aria-controls="image" aria-selected="true">Bild</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="annotation-tab" data-bs-toggle="tab" data-bs-target="#annotation" type="button" role="tab" aria-controls="annotation" aria-selected="false">Annotation</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="image" role="tabpanel" aria-labelledby="image-tab"> 
                    {% render_table table %}
                </div>
                <div class="tab-pane fade" id="annotation" role="tabpanel" aria-labelledby="annotation-tab"> Annotations Transaktionen </div>
            </div>
        </div>
    </div>
{% endblock %}